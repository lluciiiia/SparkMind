🔎 checking possible migrations..
WARN Multiple main files found in your configDir (C:\Users\airwo\Documents\GitHub\google-gemini-competition\extension\.storybook).
WARN Storybook will use the first one found and ignore the others. Please remove the extra files.

🔎 found a 'new-frameworks' migration:
╭ Automigration detected ────────────────────────────────────╮
│                                                            │
│   We've detected your project is not fully setup with      │
│   the new framework format, which was introduced in        │
│   Storybook 7.                                             │
│                                                            │
│   Storybook 7 introduced the concept of frameworks,        │
│   which abstracts configuration for renderers (e.g.        │
│   React, Vue), builders (e.g. Webpack, Vite) and           │
│   defaults to make integrations easier.                    │
│                                                            │
│   Your project should be updated to use Storybook's        │
│   framework: @storybook/nextjs. We can attempt to do       │
│   this for you automatically.                              │
│                                                            │
│   Here are the steps this migration will do to migrate     │
│   your project:                                            │
│   - Remove the following dependencies:                     │
│   - * @storybook/react-webpack5                            │
│   - Add the following dependencies:                        │
│   - * @storybook/nextjs                                    │
│   - Update or specify the framework field in               │
│   .storybook\main.ts with the value of                     │
│   "@storybook/nextjs".                                     │
│   - Remove the core.builder field in .storybook\main.ts.   │
│                                                            │
│                                                            │
│   To learn more about the new framework format, see:       │
│   https://github.com/storybookjs/storybook/blob/next/MIG   │
│   RATION.md#new-framework-api                              │
│                                                            │
│   The @storybook/nextjs package provides great user        │
│   experience for Next.js users, and we highly recommend    │
│   you to read more about it at                             │
│   https://github.com/storybookjs/storybook/blob/next/cod   │
│   e/frameworks/nextjs/README.md                            │
│                                                            │
╰────────────────────────────────────────────────────────────╯
? Do you want to run the 'new-frameworks' migration on your project? » (Y/n)√ Do you want to run the 'new-frameworks' migration on your project? ... yes
✅ Removing dependencies: @storybook/react-webpack5
✅ Installing new dependencies: @storybook/nextjs

An error occurred while installing dependencies:
wnt.default is not a function
❌ error when running new-frameworks migration
HandledError: TypeError: wnt.default is not a function
    at QJ.addDependencies (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\@storybook\core\dist\common\index.cjs:153206:72)
    at async Object.run (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:358:755)
    ... 3 lines matching cause stack trace ...
    at async Command.<anonymous> (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:739:2867) {
  handled: true,
  cause: TypeError: wnt.default is not a function
      at QJ.runAddDeps (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\@storybook\core\dist\common\index.cjs:153512:20)
      at async QJ.addDependencies (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\@storybook\core\dist\common\index.cjs:153203:9)
      at async Object.run (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:358:755)
      at async runFixes (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:665:1794)
      at async automigrate (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:663:1620)
      at async doAutomigrate (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:663:636)
      at async Command.<anonymous> (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:739:2867)
}


🔎 found a 'autodocsTrue' migration:
╭ Automigration detected ────────────────────────────────────╮
│                                                            │
│   We've changed the configuration of autodocs (previous    │
│   docsPage), so now the value:                             │
│   - docs.autodocs: true -- means automatically create      │
│   docs for every CSF file                                  │
│   - docs.autodocs: 'tag' -- means only create autodocs     │
│   for CSF files with the 'autodocs' tag                    │
│   - docs.autodocs: false -- means never create autodocs    │
│                                                            │
│   Based on your prior configuration,  we can set the       │
│   `docs.autodocs` to keep your old behaviour:              │
│                                                            │
│   docs: { autodocs: true }                                 │
│                                                            │
│   More info: https://github.com/storybookjs/storybook/bl   │
│   ob/next/MIGRATION.md#autodocs-changes                    │
│                                                            │
╰────────────────────────────────────────────────────────────╯
? Do you want to run the 'autodocsTrue' migration on your project? » (Y/n)√ Do you want to run the 'autodocsTrue' migration on your project? ... no

🔎 found a 'remove-react-dependency' migration:
╭ Manual migration detected ─────────────────────────────────╮
│                                                            │
│   We detected that your project has a dependency for       │
│   "react" that it might not need.                          │
│   Nothing breaks by having it, you can safely ignore       │
│   this message, if you wish.                               │
│                                                            │
│   Storybook asked you to add "react" as a direct           │
│   dependency in the past when upgrading from Storybook 6   │
│   to 7.                                                    │
│   However, since version 8.0, Storybook no longer          │
│   requires you to provide "react" as a dependency.         │
│   Some community addons might still wrongfully list        │
│   "react" and "react-dom" as required peer dependencies,   │
│   but since Storybook 7.6 it should not be needed in the   │
│   majority of cases.                                       │
│                                                            │
│   If you know you are not using React outside of           │
│   Storybook, it should be safe to remove the "react" and   │
│   "react-dom" dependencies from your project's             │
│   package.json.                                            │
│   Storybook cannot do this automatically as removing it    │
│   might break your project, so it should be done           │
│   manually with care.                                      │
│                                                            │
╰────────────────────────────────────────────────────────────╯

? Select continue once you have made the required changes, or quit to exit the migration process » quit / continue? Select continue once you have made the required changes, or quit to exit the migration process » quit / continue√ Select continue once you have made the required changes, or quit to exit the migration process ... quit / continue

╭ Migration check ran with failures ─────────────────────────╮
│                                                            │
│   Failed migrations:                                       │
│                                                            │
│   new-frameworks:                                          │
│   TypeError: wnt.default is not a function                 │
│                                                            │
│   You can find the full logs in                            │
│   C:\Users\airwo\Documents\GitHub\google-gemini-competit   │
│   ion\extension\migration-storybook.log                    │
│                                                            │
│   Manual migrations:                                       │
│                                                            │
│   remove-react-dependency                                  │
│                                                            │
│   Skipped migrations:                                      │
│                                                            │
│   autodocsTrue                                             │
│                                                            │
│   ─────────────────────────────────────────────────        │
│                                                            │
│   If you'd like to run the migrations again, you can do    │
│   so by running 'npx storybook automigrate'                │
│                                                            │
│   The automigrations try to migrate common patterns in     │
│   your project, but might not contain everything needed    │
│   to migrate to the latest version of Storybook.           │
│                                                            │
│   Please check the changelog and migration guide for       │
│   manual migrations and more information:                  │
│   https://storybook.js.org/docs/8.0/migration-guide        │
│   And reach out on Discord if you need help:               │
│   https://discord.gg/storybook                             │
│                                                            │
╰────────────────────────────────────────────────────────────╯

