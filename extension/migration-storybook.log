ğŸ” checking possible migrations..
WARN Multiple main files found in your configDir (C:\Users\airwo\Documents\GitHub\google-gemini-competition\extension\.storybook).
WARN Storybook will use the first one found and ignore the others. Please remove the extra files.

ğŸ” found a 'new-frameworks' migration:
â•­ Automigration detected â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                            â”‚
â”‚   We've detected your project is not fully setup with      â”‚
â”‚   the new framework format, which was introduced in        â”‚
â”‚   Storybook 7.                                             â”‚
â”‚                                                            â”‚
â”‚   Storybook 7 introduced the concept of frameworks,        â”‚
â”‚   which abstracts configuration for renderers (e.g.        â”‚
â”‚   React, Vue), builders (e.g. Webpack, Vite) and           â”‚
â”‚   defaults to make integrations easier.                    â”‚
â”‚                                                            â”‚
â”‚   Your project should be updated to use Storybook's        â”‚
â”‚   framework: @storybook/nextjs. We can attempt to do       â”‚
â”‚   this for you automatically.                              â”‚
â”‚                                                            â”‚
â”‚   Here are the steps this migration will do to migrate     â”‚
â”‚   your project:                                            â”‚
â”‚   - Remove the following dependencies:                     â”‚
â”‚   - * @storybook/react-webpack5                            â”‚
â”‚   - Add the following dependencies:                        â”‚
â”‚   - * @storybook/nextjs                                    â”‚
â”‚   - Update or specify the framework field in               â”‚
â”‚   .storybook\main.ts with the value of                     â”‚
â”‚   "@storybook/nextjs".                                     â”‚
â”‚   - Remove the core.builder field in .storybook\main.ts.   â”‚
â”‚                                                            â”‚
â”‚                                                            â”‚
â”‚   To learn more about the new framework format, see:       â”‚
â”‚   https://github.com/storybookjs/storybook/blob/next/MIG   â”‚
â”‚   RATION.md#new-framework-api                              â”‚
â”‚                                                            â”‚
â”‚   The @storybook/nextjs package provides great user        â”‚
â”‚   experience for Next.js users, and we highly recommend    â”‚
â”‚   you to read more about it at                             â”‚
â”‚   https://github.com/storybookjs/storybook/blob/next/cod   â”‚
â”‚   e/frameworks/nextjs/README.md                            â”‚
â”‚                                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
? Do you want to run the 'new-frameworks' migration on your project? Â» (Y/n)âˆš Do you want to run the 'new-frameworks' migration on your project? ... yes
âœ… Removing dependencies: @storybook/react-webpack5
âœ… Installing new dependencies: @storybook/nextjs

An error occurred while installing dependencies:
wnt.default is not a function
âŒ error when running new-frameworks migration
HandledError: TypeError: wnt.default is not a function
    at QJ.addDependencies (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\@storybook\core\dist\common\index.cjs:153206:72)
    at async Object.run (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:358:755)
    ... 3 lines matching cause stack trace ...
    at async Command.<anonymous> (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:739:2867) {
  handled: true,
  cause: TypeError: wnt.default is not a function
      at QJ.runAddDeps (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\@storybook\core\dist\common\index.cjs:153512:20)
      at async QJ.addDependencies (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\@storybook\core\dist\common\index.cjs:153203:9)
      at async Object.run (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:358:755)
      at async runFixes (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:665:1794)
      at async automigrate (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:663:1620)
      at async doAutomigrate (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:663:636)
      at async Command.<anonymous> (C:\users\airwo\documents\github\google-gemini-competition\extension\node_modules\storybook\dist\generate.cjs:739:2867)
}


ğŸ” found a 'autodocsTrue' migration:
â•­ Automigration detected â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                            â”‚
â”‚   We've changed the configuration of autodocs (previous    â”‚
â”‚   docsPage), so now the value:                             â”‚
â”‚   - docs.autodocs: true -- means automatically create      â”‚
â”‚   docs for every CSF file                                  â”‚
â”‚   - docs.autodocs: 'tag' -- means only create autodocs     â”‚
â”‚   for CSF files with the 'autodocs' tag                    â”‚
â”‚   - docs.autodocs: false -- means never create autodocs    â”‚
â”‚                                                            â”‚
â”‚   Based on your prior configuration,  we can set the       â”‚
â”‚   `docs.autodocs` to keep your old behaviour:              â”‚
â”‚                                                            â”‚
â”‚   docs: { autodocs: true }                                 â”‚
â”‚                                                            â”‚
â”‚   More info: https://github.com/storybookjs/storybook/bl   â”‚
â”‚   ob/next/MIGRATION.md#autodocs-changes                    â”‚
â”‚                                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
? Do you want to run the 'autodocsTrue' migration on your project? Â» (Y/n)âˆš Do you want to run the 'autodocsTrue' migration on your project? ... no

ğŸ” found a 'remove-react-dependency' migration:
â•­ Manual migration detected â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                            â”‚
â”‚   We detected that your project has a dependency for       â”‚
â”‚   "react" that it might not need.                          â”‚
â”‚   Nothing breaks by having it, you can safely ignore       â”‚
â”‚   this message, if you wish.                               â”‚
â”‚                                                            â”‚
â”‚   Storybook asked you to add "react" as a direct           â”‚
â”‚   dependency in the past when upgrading from Storybook 6   â”‚
â”‚   to 7.                                                    â”‚
â”‚   However, since version 8.0, Storybook no longer          â”‚
â”‚   requires you to provide "react" as a dependency.         â”‚
â”‚   Some community addons might still wrongfully list        â”‚
â”‚   "react" and "react-dom" as required peer dependencies,   â”‚
â”‚   but since Storybook 7.6 it should not be needed in the   â”‚
â”‚   majority of cases.                                       â”‚
â”‚                                                            â”‚
â”‚   If you know you are not using React outside of           â”‚
â”‚   Storybook, it should be safe to remove the "react" and   â”‚
â”‚   "react-dom" dependencies from your project's             â”‚
â”‚   package.json.                                            â”‚
â”‚   Storybook cannot do this automatically as removing it    â”‚
â”‚   might break your project, so it should be done           â”‚
â”‚   manually with care.                                      â”‚
â”‚                                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

? Select continue once you have made the required changes, or quit to exit the migration process Â» quit / continue? Select continue once you have made the required changes, or quit to exit the migration process Â» quit / continueâˆš Select continue once you have made the required changes, or quit to exit the migration process ... quit / continue

â•­ Migration check ran with failures â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                            â”‚
â”‚   Failed migrations:                                       â”‚
â”‚                                                            â”‚
â”‚   new-frameworks:                                          â”‚
â”‚   TypeError: wnt.default is not a function                 â”‚
â”‚                                                            â”‚
â”‚   You can find the full logs in                            â”‚
â”‚   C:\Users\airwo\Documents\GitHub\google-gemini-competit   â”‚
â”‚   ion\extension\migration-storybook.log                    â”‚
â”‚                                                            â”‚
â”‚   Manual migrations:                                       â”‚
â”‚                                                            â”‚
â”‚   remove-react-dependency                                  â”‚
â”‚                                                            â”‚
â”‚   Skipped migrations:                                      â”‚
â”‚                                                            â”‚
â”‚   autodocsTrue                                             â”‚
â”‚                                                            â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚                                                            â”‚
â”‚   If you'd like to run the migrations again, you can do    â”‚
â”‚   so by running 'npx storybook automigrate'                â”‚
â”‚                                                            â”‚
â”‚   The automigrations try to migrate common patterns in     â”‚
â”‚   your project, but might not contain everything needed    â”‚
â”‚   to migrate to the latest version of Storybook.           â”‚
â”‚                                                            â”‚
â”‚   Please check the changelog and migration guide for       â”‚
â”‚   manual migrations and more information:                  â”‚
â”‚   https://storybook.js.org/docs/8.0/migration-guide        â”‚
â”‚   And reach out on Discord if you need help:               â”‚
â”‚   https://discord.gg/storybook                             â”‚
â”‚                                                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

